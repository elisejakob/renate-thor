<template>
  <header :style="cssVars">
    <h1 class="site-title">
      <nuxt-link to="/" class="home">
        <Logo />
      </nuxt-link>
    </h1>
    <nav>
      <nuxt-link to="/projects">Work</nuxt-link>
      <a href="https://renatethor.bigcartel.com/" target="_blank">Shop</a>
      <nuxt-link to="/about">About</nuxt-link>
      <div class="contact-links">
        <a :href="`mailto:${$store.state.global.footer.email}?subject=ðŸ”´ðŸ”´ðŸ”´`" target="_blank" class="contact">
          <svg class="icon email" viewBox="0 0 153 152" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="Group-2" transform="translate(0.426802, 0.000000)">
                      <path class="path" d="M76,0 C117.973641,0 152,34.026359 152,76 C152,117.973641 117.973641,152 76,152 C34.026359,152 0,117.973641 0,76 C0,34.026359 34.026359,0 76,0 Z M110.705891,39.5609756 L41.8728703,39.5609756 L41.5602253,39.5643977 C33.9726227,39.7306487 27.8728703,45.9334754 27.8728703,53.5609756 L27.8728703,53.5609756 L27.8728703,98.4390244 L27.8762924,98.7516694 C28.0425434,106.339272 34.2453701,112.439024 41.8728703,112.439024 L41.8728703,112.439024 L110.705891,112.439024 L111.018536,112.435602 C118.606139,112.269351 124.705891,106.066525 124.705891,98.4390244 L124.705891,98.4390244 L124.705891,53.5609756 L124.702469,53.2483306 C124.536218,45.660728 118.333391,39.5609756 110.705891,39.5609756 L110.705891,39.5609756 Z M116.70587,54.7359756 L116.705891,98.4390244 L116.701753,98.6639627 C116.583463,101.87345 113.944288,104.439024 110.705891,104.439024 L110.705891,104.439024 L41.8728703,104.439024 L41.6479321,104.434886 C38.4384452,104.316596 35.8728703,101.677421 35.8728703,98.4390244 L35.8728703,98.4390244 L35.8728703,54.8259756 L73.0454735,86.2201436 L73.2269472,86.3656282 C74.8854663,87.6268182 77.2089682,87.587317 78.8265456,86.2419529 L78.8265456,86.2419529 L116.70587,54.7359756 Z M110.705891,47.5609756 C110.883095,47.5609756 111.058504,47.5686575 111.231804,47.5837065 L111.231804,47.5837065 L75.9707805,76.9099756 L41.2571651,47.5921809 C41.4595923,47.5715468 41.6649968,47.5609756 41.8728703,47.5609756 L41.8728703,47.5609756 Z"></path>
                  </g>
              </g>
          </svg>
        </a>
        <a :href="`https://instagram.com/${$store.state.global.footer.instagram}`" target="_blank" class="contact">
          <svg class="icon instagram" viewBox="0 0 154 153" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="Group" transform="translate(0.500000, 0.000000)">
                      <path class="path" d="M76.4268019,0 C118.636159,0 152.853604,34.2174447 152.853604,76.4268019 C152.853604,118.636159 118.636159,152.853604 76.4268019,152.853604 C34.2174447,152.853604 0,118.636159 0,76.4268019 C0,34.2174447 34.2174447,0 76.4268019,0 Z M77.9480571,32.440901 L74.905896,32.4409009 C64.3427218,32.4453814 62.7757557,32.5006745 58.2918178,32.705294 C53.6098337,32.9190083 50.4125003,33.6624686 47.6146591,34.7498972 C44.6796842,35.8543724 42.0209532,37.5857652 39.8238654,39.8233416 C37.5857848,42.0202917 35.8539085,44.679033 34.7490241,47.6141352 C33.6624686,50.4121511 32.9190083,53.6094845 32.706167,58.2914686 C32.500713,62.7754065 32.4453831,64.3423726 32.440901,74.9055468 L32.440901,77.9480571 C32.4453831,88.5112313 32.500713,90.0781973 32.706167,94.5621352 C32.9198813,99.2441194 33.6633416,102.441453 34.7507702,105.239294 C35.8552505,108.174266 37.5866426,110.832996 39.8242146,113.030088 C42.0212953,115.267673 44.6800283,116.999067 47.6150083,118.103532 C50.4130241,119.190961 53.6103575,119.934421 58.292167,120.148135 C62.7077786,120.349607 64.2943982,120.406311 74.4250926,120.412285 L78.4299149,120.412285 C88.5606798,120.406311 90.1478794,120.349607 94.5628337,120.148135 C99.2448178,119.934421 102.442151,119.190961 105.239992,118.103532 C111.148344,115.818408 115.819106,111.147646 118.10423,105.239294 C119.191659,102.441278 119.935119,99.2439448 120.148834,94.5621352 C120.353453,90.0775297 120.408746,88.5110128 120.413227,77.9480321 L120.413227,74.9055679 C120.408746,64.3425321 120.353453,62.7754065 120.148834,58.2914686 C119.935119,53.6094845 119.191659,50.4121511 118.10423,47.6143099 C116.999765,44.6793299 115.268371,42.0205969 113.030786,39.8235162 C110.833653,37.5854937 108.174729,35.8537338 105.239469,34.7490241 C102.441453,33.6624686 99.2441194,32.9190083 94.5621352,32.706167 C90.0781973,32.500713 88.5112313,32.4453831 77.9480571,32.440901 Z M94.2014051,40.6226749 C98.4900083,40.8184051 100.818865,41.5348019 102.368992,42.1371829 C104.279516,42.8423213 106.007719,43.9666736 107.426548,45.4275797 C108.887454,46.8464083 110.011806,48.5746115 110.716945,50.4851352 C111.319326,52.0350876 112.035897,54.3641194 112.231453,58.6527226 C112.427279,62.9449116 112.480319,64.4564134 112.487144,73.965141 L112.487144,78.8895051 C112.480319,88.3981899 112.427279,89.9094167 112.231453,94.2019289 C112.035723,98.4905321 111.319151,100.819389 110.716945,102.369516 C109.237162,106.205621 106.205097,109.237686 102.368992,110.717469 C100.81904,111.31985 98.4900083,112.036421 94.2014051,112.231977 C89.7715923,112.43412 88.3039628,112.484116 77.9435722,112.488188 L74.9100347,112.488188 C64.5496858,112.484116 63.0825119,112.43412 58.6521987,112.231977 C54.3635956,112.036246 52.0347384,111.319675 50.4846114,110.717469 C48.574085,110.012336 46.8458807,108.887982 45.4270559,107.427072 C43.9661544,106.008239 42.8418028,104.280037 42.1366591,102.369516 C41.5342781,100.819564 40.8177067,98.4905321 40.6221511,94.2019289 C40.4200076,89.7714489 40.3700118,88.3036303 40.3659399,77.9439849 L40.3659399,74.9106695 C40.3700118,64.5510659 40.4200076,63.0837029 40.6221511,58.6527226 C40.8178813,54.3641194 41.5342781,52.0352622 42.1366591,50.4851352 C42.8418761,48.5745163 43.966351,46.8462486 45.4274051,45.4274051 C46.8462375,43.9665036 48.5744396,42.842152 50.4849606,42.1370083 C52.034913,41.5346273 54.3639448,40.8180559 58.6525479,40.6225003 C62.944737,40.4266737 64.4562388,40.3736344 73.9649664,40.3668086 L78.8889143,40.3668114 C88.397367,40.3736595 89.9088929,40.4268484 94.2014051,40.6226749 Z M76.4268019,53.8392622 C63.9520482,53.8392622 53.8392622,63.9520482 53.8392622,76.4268019 C53.8392622,88.9015556 63.9520482,99.0143416 76.4268019,99.0143416 C88.9015556,99.0143416 99.0143416,88.9015556 99.0143416,76.4268019 C99.0143416,63.9520482 88.9015556,53.8392622 76.4268019,53.8392622 Z M76.4270347,61.7648495 C84.5245847,61.7648495 91.0889289,68.3292519 91.0889289,76.4268019 C91.0889289,84.5244029 84.5244029,91.0887543 76.4268019,91.0887543 C68.3292519,91.0887543 61.7650241,84.5242355 61.7650241,76.4266855 C61.7650241,68.3291355 68.3294847,61.7648495 76.4270347,61.7648495 Z M99.9067384,47.6686114 C96.9916393,47.6686114 94.6284845,50.0317662 94.6284845,52.9468654 C94.6284845,55.8619646 96.9916393,58.2251194 99.9067384,58.2251194 C102.821838,58.2251194 105.184992,55.8619646 105.184992,52.9468654 C105.184992,50.0317662 102.821838,47.6686114 99.9067384,47.6686114 Z"></path>
                  </g>
              </g>
          </svg>
        </a>
        <a class="contact theme" @click="changeTheme()">
          <svg class="icon" viewBox="0 0 152 152" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="darkmode">
                    <path class="path" d="M76,0 C117.973641,0 152,34.026359 152,76 C152,117.973641 117.973641,152 76,152 C34.026359,152 0,117.973641 0,76 C0,34.026359 34.026359,0 76,0 Z M76,30.9268019 C51.4233286,30.9268019 31.5,50.8501305 31.5,75.4268019 C31.5,100.003473 51.4233286,119.926802 76,119.926802 C100.576671,119.926802 120.5,100.003473 120.5,75.4268019 C120.5,50.8501305 100.576671,30.9268019 76,30.9268019 Z M76,39.9268019 C95.6061086,39.9268019 111.5,55.8206933 111.5,75.4268019 C111.5,95.0329105 95.6061086,110.926802 76,110.926802 L76,110.926802 Z"></path>
                </g>
            </g>
        </svg>
        </a>
      </div>
    </nav>
  </header>
</template>

<script>
import Logo from '~/components/graphics/Logo'

export default {
  components: {
    Logo
  },
  computed: {
    cssVars() {
      if (this.$store.state.theme === 'dark') {
        if (this.$store.state.colors.darkColor) {
          return {
            '--color-text': this.$store.state.colors.darkColor.hex
          }
        }
      } else {
        if (this.$store.state.colors.lightColor) {
          return {
            '--color-text': this.$store.state.colors.lightColor.hex
          }
        }
      }
    }
  },
  methods: {
    changeTheme: function() {
      document.body.classList.toggle('dark');
      if (this.$store.state.theme === 'light') {
        this.$store.commit('setTheme', 'dark');
      } else {
        this.$store.commit('setTheme', 'light');
      }
    }
  }
}
</script>

<style lang="scss" scoped>
@import '@/assets/css/variables.scss';
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.4rem var(--spacing-l);
  position: relative;
  z-index: 3;
  color: var(--color-text);

  .site-title {
    font-family: var(--sans-serif);
    font-size: 1rem;
    margin: 0;
    transition: all .24s ease;
    position: relative;
    &:hover {
      color: var(--color-hover);
    }
    .logo {
      width: 10rem;
      position: absolute;
      top: -120%;
      left: 0;
    }
  }
  a {
    display: inline-block;
    color: inherit;
    text-decoration: none;
  }
  .contact-links {
    display: inline-block;
  }
  nav a {
    margin-right: 1.6rem;
    transition: all .24s ease;
    position: relative;

    &.contact {
      padding: .4rem 0;
      vertical-align: middle;
      margin-right: .6rem;
      .icon {
        vertical-align: middle;
        .path {
          fill: var(--color-text);
          transition: fill .24s ease;
        }
        width: 1.6rem;
        height: 1.6rem;
        transition: all .24s ease;
      }
      &:hover {
        .icon .path {
          fill: var(--color-hover);
        }
        &:after {
          display: none;
        }
      }
    }

    &.theme {
      cursor: pointer;
      padding: .4rem 0;
      vertical-align: middle;
      margin-right: .6rem;
      &:first-of-type {
        margin-right: 2rem;
      }
      .icon {
        vertical-align: middle;
        transform: rotate(180deg);
        .path {
          fill: var(--color-text);
          transition: fill .24s ease;
        }
        width: 1.6rem;
        height: 1.6rem;
        transition: all .24s ease;
      }
      &:hover {
        .icon .path {
          fill: var(--color-hover);
        }
        &:after {
          display: none;
        }
      }
    }

    &:after {
      content: "";
      position: absolute;
      left: 2%;
      bottom: 0;
      width: 96%;
      height: 4px;
      background: var(--color-text);
      opacity: 0;
      transform: translateY(10px);
      transition: all .1s;
    }

    &:hover {
      color: var(--color-hover);
      &:after {
        opacity: 1;
        transform: translateY(4px);
        transition: all .3s;
        background: var(--color-hover);
      }
    }

    &.nuxt-link-active {
      &:after {
        opacity: 1;
        transform: translateY(4px);
        transition: all .3s;
      }
    }
  }
}
@media (max-width: 1200px) {
  header {
    max-width: none;
    padding: 1rem 2rem;
  }
}
@media (max-width: 960px) {
  header {
    display: block;
    padding: 1rem;
    .site-title .logo {
      width: 45%;
      position: static;
    }
    nav {
      text-align: right;
      display: flex;
      justify-content: space-between;
      padding: 1rem 0 0;
      font-size: 20px;
      .contact-links {
        display: block;
        position: absolute;
        top: .6rem;
        right: 1rem;
        a {
          margin: 0 0 0 .3rem;
          &:after {display: none}
        }
      }
      a {
        margin: 0;
        &:after {
          content: "";
          position: absolute;
          left: 2%;
          bottom: 0;
          width: 96%;
          height: 4px;
          background: var(--color-text);
          opacity: 1;
          transform: translateY(6px);
          transition: all .1s;
        }
      }
    }
  }
}
</style>
